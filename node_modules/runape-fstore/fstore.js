var fs = require("fs");
var fileName = "fstore.json";

exports.setFileName = function(path){
	if(!path || !path.trim())
		throw "fileName must not be empty";
	
	fileName = path.trim();	
}

exports.set = function (object) {
	if (typeof (object) !== "object")
		throw "set expects an object";
				
	fs.writeFileSync(fileName, JSON.stringify(object));
};

exports.get = function() {
	var content = {};
	if (fs.existsSync(fileName))
		content = JSON.parse(fs.readFileSync(fileName));

	return content;
};